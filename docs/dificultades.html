<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="language" content="en" />
        <link href="./assets/a9cb8cae/css/bootstrap.css" rel="stylesheet">
<link href="./assets/a408446c/solarized_light.css" rel="stylesheet">
<link href="./assets/64f80fce/style.css" rel="stylesheet">
<script src="./assets/f0991c28/jquery.js"></script>
<script src="./assets/a9cb8cae/js/bootstrap.js"></script>
<script src="./assets/7be1cfc2/jssearch.js"></script>    <title>Dificultades encontradas y soluciones aplicadas. - Dificultades encontradas y soluciones aplicadas. - Guía de Friendly</title>
</head>
<body>

<div class="wrap">
    <nav id="w226" class="navbar-inverse navbar-fixed-top navbar" role="navigation"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#w226-collapse"><span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span></button><a class="navbar-brand" href="./index.html">Guía de Friendly</a></div><div id="w226-collapse" class="collapse navbar-collapse"><ul id="w227" class="navbar-nav nav"><li><a href="api/index.html">Class reference</a></li>
<li><a href="./README.html">Guide</a></li></ul><div class="navbar-form navbar-left" role="search">
  <div class="form-group">
    <input id="searchbox" type="text" class="form-control" placeholder="Search">
  </div>
</div>
</div></nav>
    <div id="search-resultbox" style="display: none;" class="modal-content">
        <ul id="search-results">
        </ul>
    </div>

    
<div class="row">
    <div class="col-md-2">
                <div id="navigation" class="list-group"><a class="list-group-item" href="#navigation-216" data-toggle="collapse" data-parent="#navigation">Descripción general del Proyecto. <b class="caret"></b></a><div id="navigation-216" class="submenu panel-collapse collapse"><a class="list-group-item" href="./funcionalidad_principal.html">Funcionalidad principal de la aplicación.</a>
<a class="list-group-item" href="./objetivos.html">Objetivos generales.</a>
<a class="list-group-item" href="https://github.com/fernando3287/friendly">URL del repositorio en GitHub.</a>
<a class="list-group-item" href="https://fernando3287.github.io/friendly/">URL de la documentación en GitHub Pages o similar.</a></div>
<a class="list-group-item" href="#navigation-217" data-toggle="collapse" data-parent="#navigation">Instrucciones de instalación y despliegue. <b class="caret"></b></a><div id="navigation-217" class="submenu panel-collapse collapse"><a class="list-group-item" href="./local.html">En local.</a>
<a class="list-group-item" href="./nube.html">en la nube.</a></div>
<a class="list-group-item" href="#navigation-218" data-toggle="collapse" data-parent="#navigation">Catálogo de requisitos. <b class="caret"></b></a><div id="navigation-218" class="submenu panel-collapse collapse"><a class="list-group-item" href="./detallada.html">Definición detallada.</a>
<a class="list-group-item" href="./cuadro_resumen.html">Cuadro resumen.</a></div>
<a class="list-group-item" href="#navigation-219" data-toggle="collapse" data-parent="#navigation">Manual básico de usuario. <b class="caret"></b></a><div id="navigation-219" class="submenu panel-collapse collapse"><a class="list-group-item" href="./manual.html">Manual básico.</a></div>
<a class="list-group-item" href="#navigation-220" data-toggle="collapse" data-parent="#navigation">Decisiones adoptadas y su justificación. <b class="caret"></b></a><div id="navigation-220" class="submenu panel-collapse collapse"><a class="list-group-item" href="./decisiones.html">Decisiones adoptadas y su justificación.</a></div>
<a class="list-group-item active" href="#navigation-221" data-toggle="collapse" data-parent="#navigation">Dificultades encontradas y soluciones aplicadas. <b class="caret"></b></a><div id="navigation-221" class="submenu panel-collapse collapse in"><a class="list-group-item active" href="./dificultades.html">Dificultades encontradas y soluciones aplicadas.</a></div>
<a class="list-group-item" href="#navigation-222" data-toggle="collapse" data-parent="#navigation">Diagramas. <b class="caret"></b></a><div id="navigation-222" class="submenu panel-collapse collapse"><a class="list-group-item" href="./diagrama_clases.html">Diagrama De clases.</a>
<a class="list-group-item" href="./diagrama_eld.html">Diagrama De estructura lógica de datos.</a></div>
<a class="list-group-item" href="#navigation-223" data-toggle="collapse" data-parent="#navigation">Glosario de términos. <b class="caret"></b></a><div id="navigation-223" class="submenu panel-collapse collapse"><a class="list-group-item" href="./glosario.html">Glosario.</a></div>
<a class="list-group-item" href="#navigation-224" data-toggle="collapse" data-parent="#navigation">Conclusiones. <b class="caret"></b></a><div id="navigation-224" class="submenu panel-collapse collapse"><a class="list-group-item" href="./conclusiones.html">Conclusiones.</a></div>
<a class="list-group-item" href="#navigation-225" data-toggle="collapse" data-parent="#navigation">Anexos. <b class="caret"></b></a><div id="navigation-225" class="submenu panel-collapse collapse"><a class="list-group-item" href="./seis.html">Anexo I :Prueba del 6</a>
<a class="list-group-item" href="./html.html">Anexo II :Validación html 5</a>
<a class="list-group-item" href="./css.html">Anexo III:Validación css </a>
<a class="list-group-item" href="./microdatos.html">Anexo IV:Validación microdatos </a>
<a class="list-group-item" href="./accesibilidad.html">Anexo V:Validación Accesibilidad </a>
<a class="list-group-item" href="./pruebas.html">Anexo VI: Resultado de las pruebas </a>
<a class="list-group-item" href="./explorer.html">Anexo VII: Vista de la aplicación en Internet Explorer</a></div></div>    </div>
    <div class="col-md-9 guide-content" role="main">
        <h1><img src="images/logo.png" alt="Friendly" /> <strong>Friendly</strong> <span id="friendly"></span><a href="#friendly" class="hashlink">&para;</a></h1><h3>Dificultades encontradas y soluciones aplicadas. <span id="dificultades-encontradas-y-soluciones-aplicadas"></span><a href="#dificultades-encontradas-y-soluciones-aplicadas" class="hashlink">&para;</a></h3><hr />
<blockquote><p>La aplicación tienes dos salas de chat, una individual con amigos y otra de grupo con los usuarios conectados. En un principio el chat iba a guardar todos los mensajes en una tabla llamada mensajes, pero esto me suponía un problema dado que los mensajes que son enviados al chat público no tienen receptor, y tenía que discriminar los que tenían receptor o no, así que la decisión tomada para solucionar el problema fue separar los mensajes en dos tablas, una para públicos y otra para privados.</p>
</blockquote>
<blockquote><p>Otra dificultad encontrada fue a la hora de buscar una extensión que me hiciera el chat. En la búsqueda use varias extensiones de extensiones pero la verdad que ninguna me terminó de convencer. Unas eran imposibles de configurar, otras no funcionaban bien y la mayoría tenía pocas descargas y no eran muy usadas por otros usuarios. así que mi decisión fue la de hacer las salas de chat por mí mismo.</p>
</blockquote>
<blockquote><p>Una dificultad encontrada a sido a la hora de guardar los usuarios conectados para el chat. En un principio al hacer login guardaba el usuarios entre los conectados y al hacer logout lo eliminaba de entre los conectados. el problema era a la hora de que el usuario cierre el navegador o se vaya la luz, porque al no pasar por el logout no se eliminaba de los conectados. La solución mas razonable que he encontrado ha sido que cada cliente a la hora de hacer una petición http guarde o actualize una cookie y la actualice en la base de datos. Luego he hecho un crontab que se ejecuta cada minuto y busca los usuarios que entre el tiempo actual y la última petición http(cookie) ha pasado más de 10 minutos y los elimina de la base de datos.</p>
</blockquote>
        <div class="toplink"><a href="#" class="h1" title="go to top"><span class="glyphicon glyphicon-arrow-up"></a></div>
    </div>
</div>


</div>

<footer class="footer">
        <p class="pull-right"><small>Page generated on Mon, 12 Jun 2017 19:32:58 +0000</small></p>
    Powered by <a href="http://www.yiiframework.com/" rel="external">Yii Framework</a></footer>

<script type="text/javascript">jQuery(document).ready(function () {
    var shiftWindow = function () { scrollBy(0, -50) };
    if (location.hash) setTimeout(shiftWindow, 1);
    window.addEventListener("hashchange", shiftWindow);
var element = document.createElement("script");
element.src = "./jssearch.index.js";
document.body.appendChild(element);

var searchBox = $('#searchbox');

// search when typing in search field
searchBox.on("keyup", function(event) {
    var query = $(this).val();

    if (query == '' || event.which == 27) {
        $('#search-resultbox').hide();
        return;
    } else if (event.which == 13) {
        var selectedLink = $('#search-resultbox a.selected');
        if (selectedLink.length != 0) {
            document.location = selectedLink.attr('href');
            return;
        }
    } else if (event.which == 38 || event.which == 40) {
        $('#search-resultbox').show();

        var selected = $('#search-resultbox a.selected');
        if (selected.length == 0) {
            $('#search-results').find('a').first().addClass('selected');
        } else {
            var next;
            if (event.which == 40) {
                next = selected.parent().next().find('a').first();
            } else {
                next = selected.parent().prev().find('a').first();
            }
            if (next.length != 0) {
                var resultbox = $('#search-results');
                var position = next.position();

//              TODO scrolling is buggy and jumps around
//                resultbox.scrollTop(Math.floor(position.top));
//                console.log(position.top);

                selected.removeClass('selected');
                next.addClass('selected');
            }
        }

        return;
    }
    $('#search-resultbox').show();
    $('#search-results').html('<li><span class="no-results">No results</span></li>');

    var result = jssearch.search(query);

    if (result.length > 0) {
        var i = 0;
        var resHtml = '';

        for (var key in result) {
            if (i++ > 20) {
                break;
            }
            resHtml = resHtml +
            '<li><a href="' + result[key].file.u.substr(3) +'"><span class="title">' + result[key].file.t + '</span>' +
            '<span class="description">' + result[key].file.d + '</span></a></li>';
        }
        $('#search-results').html(resHtml);
    }
});

// hide the search results on ESC
$(document).on("keyup", function(event) { if (event.which == 27) { $('#search-resultbox').hide(); } });
// hide search results on click to document
$(document).bind('click', function (e) { $('#search-resultbox').hide(); });
// except the following:
searchBox.bind('click', function(e) { e.stopPropagation(); });
$('#search-resultbox').bind('click', function(e) { e.stopPropagation(); });

});</script></body>
</html>
